import { useContext } from "react";
import { UserContext } from "../../Contexts/UserContext";

const ModalStepTwo: React.FC<{ setModalStep: Function }> = ({
  setModalStep,
}) => {
  const context = useContext(UserContext);

  if (!context?.storeRegionalization) return (<img src="./../../../assets/skeleton.gif"></img>);

  const { storeRegionalization } = context;

  const {
    name,
    hour,
    postalCode,
    neighborhood,
    city,
    address,
    phone,
    celphone,
    state,
  } = storeRegionalization;

  const confirmedState = () => {

    window.localStorage.setItem('state', state)

    setModalStep(0)

    window.location.replace(`/home/${state}`);

  }

  return (
    <>
      <h2 className="modal-container__infoTitle">
        Confira as informações da loja do seu Estado e prossiga:
      </h2>

      <h3 className="modal-container__store-name">{name}</h3>

      <div className="modal-container__store-container">
        <div className="modal-container__localization">
          <div className="modal-container__localization-icon">
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M16 18C15.0111 18 14.0444 17.7068 13.2222 17.1574C12.3999 16.6079 11.759 15.8271 11.3806 14.9134C11.0022 13.9998 10.9031 12.9945 11.0961 12.0246C11.289 11.0546 11.7652 10.1637 12.4645 9.46447C13.1637 8.76521 14.0546 8.289 15.0246 8.09608C15.9945 7.90315 16.9998 8.00217 17.9134 8.3806C18.8271 8.75904 19.6079 9.39991 20.1574 10.2222C20.7068 11.0444 21 12.0111 21 13C20.9984 14.3256 20.4711 15.5964 19.5338 16.5338C18.5964 17.4711 17.3256 17.9984 16 18ZM16 10C15.4067 10 14.8266 10.1759 14.3333 10.5056C13.8399 10.8352 13.4554 11.3038 13.2284 11.852C13.0013 12.4001 12.9419 13.0033 13.0576 13.5853C13.1734 14.1672 13.4591 14.7018 13.8787 15.1213C14.2982 15.5409 14.8328 15.8266 15.4147 15.9424C15.9967 16.0581 16.5999 15.9987 17.1481 15.7716C17.6962 15.5446 18.1648 15.1601 18.4944 14.6667C18.8241 14.1734 19 13.5933 19 13C18.9992 12.2046 18.6829 11.442 18.1204 10.8796C17.558 10.3171 16.7954 10.0008 16 10Z"
                fill="#042CA6"
              />
              <path
                d="M16 30L7.56401 20.051C7.44679 19.9016 7.33079 19.7513 7.21601 19.6C5.77499 17.7018 4.99652 15.3832 5.00001 13C5.00001 10.0826 6.15894 7.28473 8.22184 5.22183C10.2847 3.15893 13.0826 2 16 2C18.9174 2 21.7153 3.15893 23.7782 5.22183C25.8411 7.28473 27 10.0826 27 13C27.0035 15.3821 26.2254 17.6996 24.785 19.597L24.784 19.6C24.784 19.6 24.484 19.994 24.439 20.047L16 30ZM8.81201 18.395C8.81401 18.395 9.04601 18.703 9.09901 18.769L16 26.908L22.91 18.758C22.954 18.703 23.188 18.393 23.189 18.392C24.3662 16.8411 25.0023 14.947 25 13C25 10.6131 24.0518 8.32387 22.364 6.63604C20.6761 4.94821 18.387 4 16 4C13.6131 4 11.3239 4.94821 9.63605 6.63604C7.94822 8.32387 7.00001 10.6131 7.00001 13C6.99791 14.9482 7.63379 16.8434 8.81201 18.395Z"
                fill="#042CA6"
              />
            </svg>
          </div>
          <div className="modal-container__localization-info">
            <span>Endereço: {address}</span>
            <span>Bairro: {neighborhood}</span>
            <span>
              Cidade: {city} - {state}
            </span>
            <span>CEP: {postalCode}</span>
          </div>
        </div>

        <div className="modal-container__hour">
          <div className="modal-container__hour-icon">
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M16 3C13.4288 3 10.9154 3.76244 8.77759 5.1909C6.63975 6.61935 4.97351 8.64968 3.98957 11.0251C3.00563 13.4006 2.74819 16.0144 3.2498 18.5362C3.75141 21.0579 4.98953 23.3743 6.80762 25.1924C8.6257 27.0105 10.9421 28.2486 13.4638 28.7502C15.9856 29.2518 18.5995 28.9944 20.9749 28.0104C23.3503 27.0265 25.3807 25.3603 26.8091 23.2224C28.2376 21.0846 29 18.5712 29 16C28.9934 12.5542 27.6216 9.25145 25.1851 6.81491C22.7486 4.37837 19.4458 3.00661 16 3ZM16 27C13.8244 27 11.6977 26.3549 9.88873 25.1462C8.07979 23.9375 6.66989 22.2195 5.83733 20.2095C5.00477 18.1995 4.78693 15.9878 5.21137 13.854C5.63581 11.7202 6.68345 9.7602 8.22183 8.22183C9.76021 6.68345 11.7202 5.6358 13.854 5.21136C15.9878 4.78692 18.1995 5.00476 20.2095 5.83733C22.2195 6.66989 23.9375 8.07979 25.1462 9.88873C26.3549 11.6977 27 13.8244 27 16C26.9967 18.9164 25.8367 21.7123 23.7745 23.7745C21.7123 25.8367 18.9164 26.9967 16 27ZM24 16C24 16.2652 23.8946 16.5196 23.7071 16.7071C23.5196 16.8946 23.2652 17 23 17H16C15.7348 17 15.4804 16.8946 15.2929 16.7071C15.1054 16.5196 15 16.2652 15 16V9C15 8.73478 15.1054 8.48043 15.2929 8.29289C15.4804 8.10536 15.7348 8 16 8C16.2652 8 16.5196 8.10536 16.7071 8.29289C16.8946 8.48043 17 8.73478 17 9V15H23C23.2652 15 23.5196 15.1054 23.7071 15.2929C23.8946 15.4804 24 15.7348 24 16Z"
                fill="#042CA6"
              />
            </svg>
          </div>
          <div className="modal-container__hour-info">
            <span>{hour}</span>
          </div>
        </div>

        <div className="modal-container__phone">
          <div className="modal-container__phone-icon">
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M22 28C12.075 28 4 19.925 4 10C4.00375 8.29758 4.62559 6.65444 5.7499 5.37608C6.87421 4.09773 8.42449 3.27114 10.1125 3.05001C10.5428 3.0023 10.9771 3.0929 11.3525 3.30866C11.7278 3.52443 12.0247 3.85415 12.2 4.25001L14.7125 10.1125C14.8428 10.4168 14.8951 10.7488 14.8645 11.0785C14.834 11.4081 14.7216 11.7249 14.5375 12L12.4625 15.175C13.4021 17.0819 14.9503 18.6213 16.8625 19.55L20 17.4625C20.2749 17.2772 20.5924 17.1651 20.9227 17.1366C21.253 17.1082 21.585 17.1644 21.8875 17.3L27.75 19.8C28.1459 19.9753 28.4756 20.2722 28.6913 20.6475C28.9071 21.0229 28.9977 21.4572 28.95 21.8875C28.7289 23.5755 27.9023 25.1258 26.6239 26.2501C25.3456 27.3744 23.7024 27.9963 22 28ZM10.3625 5.03751C9.15619 5.19258 8.04776 5.78203 7.24474 6.69548C6.44173 7.60894 5.9992 8.78377 6 10C6.00331 14.2425 7.69008 18.3102 10.6899 21.3101C13.6898 24.3099 17.7576 25.9967 22 26C23.2162 26.0008 24.3911 25.5583 25.3045 24.7553C26.218 23.9523 26.8074 22.8438 26.9625 21.6375L21.1 19.1375L17.975 21.225C17.6875 21.4151 17.3557 21.5277 17.0118 21.5517C16.668 21.5758 16.3237 21.5106 16.0125 21.3625C13.6837 20.236 11.7999 18.361 10.6625 16.0375C10.5125 15.7273 10.4452 15.3837 10.4671 15.0398C10.489 14.696 10.5994 14.3637 10.7875 14.075L12.875 10.9L10.3625 5.03751Z"
                fill="#042CA6"
              />
            </svg>
          </div>
          <div className="modal-container__phone-info">
            <span>{phone}</span>
            <span>{celphone}</span>
          </div>
        </div>

        <div className="modal-container__buttons">
          <button
            className="modal-container__button-goback"
            onClick={() => setModalStep(1)}>
            Voltar
          </button>
          <button
            className="modal-container__button-gonext"
            onClick={confirmedState}>
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.6666 5L7.49998 14.1667L3.33331 10" stroke="white" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
</svg>
            <span>Prosseguir</span>
          </button>
        </div>
      </div>
    </>
  );
};

export default ModalStepTwo;
